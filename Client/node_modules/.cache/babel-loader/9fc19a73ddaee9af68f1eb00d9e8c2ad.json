{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\PC\\\\source\\\\repos\\\\LaboratoryApplication\\\\LaboratoryServer\\\\LaboratoryServer\\\\client-app\\\\src\\\\App.js\";\nimport React from 'react';\nimport { render } from '@testing-library/react';\nimport './App.css';\nimport UserStore from \"./stores/UserStore\";\nimport LoginForm from \"./stores/LoginForm\";\nimport InputField from \"./stores/InputField.jsx\";\nimport SubmitButton from \"./stores/SubmitButton\";\n\nclass App extends React.Component {\n  async componentDidMount() {\n    try {\n      let res = await fetch('/isLoggedIn', // tu trzeba będzie zrobić endpoint API który to obsłuży\n      {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n      let result = await res.json();\n\n      if (result && result.success) {\n        UserStore.loading = false;\n        UserStore.isLoggedIn = true;\n        UserStore.userName = result.userName;\n      } else {\n        UserStore.loading = false;\n        UserStore.isLoggedIn = false;\n      }\n    } catch (e) {\n      UserStore.loading = false;\n      UserStore.isLoggedIn = false;\n    }\n  }\n\n  async doLogout() {\n    try {\n      let res = await fetch('/logout', // tu trzeba będzie zrobić endpoint API który to obsłuży\n      {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n      let result = await res.json();\n\n      if (result && result.success) {\n        UserStore.isLoggedIn = false;\n        UserStore.userName = '';\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    if (UserStore.loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: \"Loading please wait\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/PC/source/repos/LaboratoryApplication/LaboratoryServer/LaboratoryServer/client-app/src/App.js"],"names":["React","render","UserStore","LoginForm","InputField","SubmitButton","App","Component","componentDidMount","res","fetch","method","headers","result","json","success","loading","isLoggedIn","userName","e","doLogout","console","log"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,wBAAvB;AACA,OAAO,WAAP;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,YAAP,MAAyB,uBAAzB;;AAGA,MAAMC,GAAN,SAAkBN,KAAK,CAACO,SAAxB,CAAkC;AAEhC,QAAMC,iBAAN,GAA0B;AACxB,QAAI;AACF,UAAIC,GAAG,GAAG,MAAMC,KAAK,CAAC,aAAD,EAAqB;AACxC;AACEC,QAAAA,MAAM,EAAE,MADV;AAEEC,QAAAA,OAAO,EAAE;AACP,oBAAU,kBADH;AAEP,0BAAgB;AAFT;AAFX,OADmB,CAArB;AASA,UAAIC,MAAM,GAAG,MAAMJ,GAAG,CAACK,IAAJ,EAAnB;;AACA,UAAID,MAAM,IAAIA,MAAM,CAACE,OAArB,EAA8B;AAC5Bb,QAAAA,SAAS,CAACc,OAAV,GAAoB,KAApB;AACAd,QAAAA,SAAS,CAACe,UAAV,GAAuB,IAAvB;AACAf,QAAAA,SAAS,CAACgB,QAAV,GAAqBL,MAAM,CAACK,QAA5B;AACD,OAJD,MAMK;AACHhB,QAAAA,SAAS,CAACc,OAAV,GAAoB,KAApB;AACAd,QAAAA,SAAS,CAACe,UAAV,GAAuB,KAAvB;AACD;AACF,KArBD,CAuBA,OAAOE,CAAP,EAAU;AACRjB,MAAAA,SAAS,CAACc,OAAV,GAAoB,KAApB;AACAd,MAAAA,SAAS,CAACe,UAAV,GAAuB,KAAvB;AACD;AACF;;AAED,QAAMG,QAAN,GAAiB;AACf,QAAI;AACF,UAAIX,GAAG,GAAG,MAAMC,KAAK,CAAC,SAAD,EAAiB;AACpC;AACEC,QAAAA,MAAM,EAAE,MADV;AAEEC,QAAAA,OAAO,EAAE;AACP,oBAAU,kBADH;AAEP,0BAAgB;AAFT;AAFX,OADmB,CAArB;AASA,UAAIC,MAAM,GAAG,MAAMJ,GAAG,CAACK,IAAJ,EAAnB;;AACA,UAAID,MAAM,IAAIA,MAAM,CAACE,OAArB,EAA8B;AAC5Bb,QAAAA,SAAS,CAACe,UAAV,GAAuB,KAAvB;AACAf,QAAAA,SAAS,CAACgB,QAAV,GAAqB,EAArB;AACD;AACF,KAfD,CAiBA,OAAOC,CAAP,EAAU;AACRE,MAAAA,OAAO,CAACC,GAAR,CAAYH,CAAZ;AACD;AACF;;AAIDlB,EAAAA,MAAM,GAAG;AACP,QAAGC,SAAS,CAACc,OAAb,EAAqB;AACnB,0BACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF;AAQD;;AACD,wBACE;AAAK,MAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,YADF;AAQD;;AA5E+B;;AA+ElC,eAAeV,GAAf","sourcesContent":["import React from 'react';\nimport { render } from '@testing-library/react';\nimport './App.css';\nimport UserStore from \"./stores/UserStore\"\nimport LoginForm from \"./stores/LoginForm\"\nimport InputField from \"./stores/InputField.jsx\"\nimport SubmitButton from \"./stores/SubmitButton\"\n\n\nclass App extends React.Component {\n\n  async componentDidMount() {\n    try {\n      let res = await fetch('/isLoggedIn',      // tu trzeba będzie zrobić endpoint API który to obsłuży\n        {\n          method: 'post',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          }\n        });\n\n      let result = await res.json();\n      if (result && result.success) {\n        UserStore.loading = false;\n        UserStore.isLoggedIn = true;\n        UserStore.userName = result.userName;\n      }\n\n      else {\n        UserStore.loading = false;\n        UserStore.isLoggedIn = false;\n      }\n    }\n\n    catch (e) {\n      UserStore.loading = false;\n      UserStore.isLoggedIn = false;\n    }\n  }\n\n  async doLogout() {\n    try {\n      let res = await fetch('/logout',      // tu trzeba będzie zrobić endpoint API który to obsłuży\n        {\n          method: 'post',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          }\n        });\n\n      let result = await res.json();\n      if (result && result.success) {\n        UserStore.isLoggedIn = false;\n        UserStore.userName = '';\n      }\n    }\n\n    catch (e) {\n      console.log(e)\n    }\n  }\n\n\n\n  render() {\n    if(UserStore.loading){\n      return(\n        <div className=\"app\">\n          <div className=\"container\">\n            Loading please wait\n          </div>\n        </div>\n\n      )\n    }\n    return (\n      <div className=\"app\">\n\n\n\n      </div>\n    );\n\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}